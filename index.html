<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mood Manual</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html, body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            min-height: 100vh;
            transition: background 0.8s ease-in-out;
            background: linear-gradient(135deg, #cfd9df 0%, #e2ebf0 100%);
            overflow-x: hidden;
            overflow-y: auto;
        }
        h1 {
            font-size: 2.5rem;
            color: #333;
            animation: fadeInDown 1s ease-in-out;
        }
        select {
            margin-top: 20px;
            padding: 12px 16px;
            font-size: 1rem;
            border: none;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-family: 'Quicksand', sans-serif;
            cursor: pointer;
        }
        button {
            margin-top: 20px;
            padding: 14px 20px;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #6366f1, #4338ca);
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: transform 0.2s ease, background 0.3s ease;
            z-index: 2;
        }
        button:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, #4f46e5, #3730a3);
        }
        .advice-box {
            margin-top: 40px;
            padding: 25px;
            border-radius: 16px;
            background: #ffffffdd;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            max-width: 400px;
            text-align: center;
            font-size: 1.3rem;
            line-height: 1.6;
            z-index: 2;
            position: relative;
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            animation-fill-mode: forwards;
        }
        .icon {
            font-size: 2rem;
            display: block;
            margin-bottom: 12px;
        }
        .confetti {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }
        .confetti-piece {
            width: 10px;
            height: 10px;
            background-color: #f87171;
            position: absolute;
            animation: fall 3s linear infinite;
            border-radius: 50%;
        }

        /* General UI Animations */
        @keyframes fadeInDown {
            0% { opacity: 0; transform: translateY(-30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        @keyframes fall {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        @keyframes slideInUp {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% {
                transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
            }
            0% { opacity: 0; transform: scale3d(0.3, 0.3, 0.3); }
            20% { transform: scale3d(1.1, 1.1, 1.1); }
            40% { transform: scale3d(0.9, 0.9, 0.9); }
            60% { opacity: 1; transform: scale3d(1.03, 1.03, 1.03); }
            80% { transform: scale3d(0.97, 0.97, 0.97); }
            100% { opacity: 1; transform: scale3d(1, 1, 1); }
        }
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5); }
            70% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }
        @keyframes rotateIn {
            0% { opacity: 0; transform: rotate3d(0, 0, 1, -200deg); transform-origin: center center; }
            100% { opacity: 1; transform: none; transform-origin: center center; }
        }
        .slide-in-up { animation: slideInUp 0.6s ease-out forwards; }
        .fade-in-scale { animation: fadeInScale 0.6s ease-out forwards; }
        .bounce-in { animation: bounceIn 0.8s forwards; }
        .pop-in { animation: popIn 0.5s ease-out forwards; }
        .rotate-in { animation: rotateIn 0.7s ease-out forwards; }

        /* --- Custom Advice-Specific Animations Container --- */
        #customAnimationContainer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* --- Individual Custom Animations --- */
        .ted-logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            animation: tedFadeIn 1.5s ease-out forwards;
            animation-delay: 0.2s;
        }
        .ted-logo-box {
            width: 60px;
            height: 60px;
            background-color: #E62B1E;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 2.2em;
            letter-spacing: -2px;
            overflow: hidden;
            animation: tedBoxPop 0.8s ease-out forwards;
        }
        .ted-logo-text {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 1.2em;
            color: #333;
            margin-top: 10px;
            opacity: 0;
            animation: tedTextFadeIn 1s ease-out forwards;
            animation-delay: 0.8s;
        }
        @keyframes tedFadeIn { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
        @keyframes tedBoxPop { 0% { transform: scale(0); border-radius: 50%; } 70% { transform: scale(1.1); border-radius: 10%; } 100% { transform: scale(1); border-radius: 8px; } }
        @keyframes tedTextFadeIn { 0% { opacity: 0; } 100% { opacity: 1; } }

        .cookie-animation {
            font-size: 4em;
            opacity: 0;
            transform: scale(0) rotate(-180deg);
            animation: cookieDrop 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }
        @keyframes cookieDrop {
            0% { opacity: 0; transform: scale(0) rotate(-180deg) translateY(-100px); }
            50% { opacity: 1; transform: scale(1.2) rotate(30deg) translateY(20px); }
            100% { opacity: 1; transform: scale(1) rotate(0deg) translateY(0); }
        }

        .hugs-animation {
            font-size: 5em;
            opacity: 0;
            transform: scale(0);
            animation: hugSquish 0.8s ease-out forwards;
        }
        @keyframes hugSquish {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.2); }
            75% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        /* New: Beating Heart for 'miss' mood */
        .heart-animation {
            width: 80px;
            height: 80px;
            opacity: 0;
            animation: heartBeat 1.5s infinite;
        }
        .heart-animation path { fill: #FF69B4; }
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* --- New Particle Effects --- */
        #particleContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        /* Bubble Particle Style */
        .bubble {
            position: absolute;
            background-color: rgba(175, 219, 237, 0.6);
            border-radius: 50%;
            opacity: 0;
            top: 100vh;
            animation: bubbleFloat linear infinite;
        }
        @keyframes bubbleFloat {
            0% { transform: translateY(0vh) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.2); opacity: 0; }
        }

        /* Petal Particle Style */
        .petal {
            position: absolute;
            background-color: rgba(255, 182, 193, 0.7);
            border-radius: 50% 10%;
            opacity: 0;
            top: -20px;
            animation: petalFall linear infinite;
        }
        @keyframes petalFall {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* Hearts/Stars Particle Style */
        .heart-star-particle-wrapper {
            position: absolute;
            opacity: 0;
            top: 100vh;
            animation: particleFloat linear infinite;
            width: 25px; /* Added sizing to the wrapper */
            height: 25px;
        }
        .heart-particle-svg {
            width: 100%;
            height: 100%;
            fill: #ff69b4;
        }
        .star-particle-svg {
            width: 100%;
            height: 100%;
            fill: gold;
        }
        
        @keyframes particleFloat {
            0% { transform: translateY(0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }
        
        /* New Mood Particle Styles */
        .fume-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: rgba(105, 105, 105, 0.7);
            border-radius: 50%;
            opacity: 0;
            top: 100vh;
            animation: fumeUp 2s linear infinite;
        }
        @keyframes fumeUp {
            0% { transform: translateY(0) translateX(0); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(var(--x-end)); opacity: 0; }
        }
        
        .blob-particle {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: rgba(180, 180, 180, 0.5);
            border-radius: 50%;
            opacity: 0;
            top: 100vh;
            animation: blobSlowMove 8s linear infinite;
        }
        @keyframes blobSlowMove {
            0% { transform: translateY(0) translateX(0); opacity: 0.1; }
            50% { transform: translateY(50vh) translateX(50vw); opacity: 0.4; }
            100% { transform: translateY(100vh) translateX(100vw); opacity: 0.1; }
        }

        .period-particle {
            position: absolute;
            width: 15px;
            height: 15px;
            font-size: 15px;
            color: #925881;
            opacity: 0;
            top: 100vh;
            animation: periodSwirl 4s ease-in-out infinite;
        }
        @keyframes periodSwirl {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { transform: translateY(-20px) scale(1); opacity: 1; }
            50% { transform: translateY(-50px) rotate(45deg); opacity: 0.8; }
            80% { transform: translateY(-80px) rotate(90deg); opacity: 0.5; }
            100% { transform: translateY(-100px) scale(0.5); opacity: 0; }
        }

        .fine-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 2px #fff;
            opacity: 0;
            top: -20px;
            animation: fineFloat 10s linear infinite;
        }
        @keyframes fineFloat {
            0% { transform: translateY(0); opacity: 0; }
            50% { transform: translateY(50vh); opacity: 0.1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
        
        .hyper-particle {
            position: absolute;
            font-size: 20px;
            color: #ffeb3b;
            opacity: 0;
            top: 100vh;
            animation: hyperStreak 1.5s ease-out infinite;
            text-shadow: 0 0 5px #ffeb3b;
        }
        @keyframes hyperStreak {
            0% { transform: translateY(0); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }


        /* User-generated content form styles */
        .user-content {
            margin-top: 40px;
            padding: 20px;
            border: 1px dashed #ccc;
            border-radius: 8px;
            text-align: center;
            max-width: 400px;
            width: 100%;
            animation: fadeInDown 1s ease-in-out;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .user-content form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .user-content input, .user-content textarea, .user-content select {
            width: calc(100% - 20px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-family: 'Quicksand', sans-serif;
        }
        .user-content button {
            width: 100%;
            margin-top: 0;
        }
    </style>
</head>
<body>

    <h1>Mood Manual</h1>

    <select id="mood">
        <option value="">Select a mood</option>
        <option value="grumpy">üò† I‚Äôm grumpy for no reason</option>
        <option value="anxious">üíõ I‚Äôm anxious and need reassurance</option>
        <option value="overwhelmed">üìñ I‚Äôm overwhelmed and want space</option>
        <option value="annoyed">üò§ I‚Äôm annoyed at you but still love you</option>
        <option value="bored">üéà I‚Äôm bored and want fun</option>
        <option value="sad">üíß I‚Äôm sad and don‚Äôt know why</option>
        <option value="period">üßÅ I‚Äôm on my period and everything is chaos</option>
        <option value="fine">üîá I‚Äôm fine (but clearly not)</option>
        <option value="hyper">‚ö° I‚Äôm hyper</option>
        <option value="okay">üåº I‚Äôm actually okay!</option>
        <option value="miss">üìû I miss you</option>
        <option value="insecure">ü´£ I feel insecure</option>
        <option value="attention">üß≤ I need attention but don‚Äôt want to ask</option>
    </select>

    <button id="mainButton" onclick="showAdvice()">‚ú® Get Advice</button>

    <div class="advice-box" id="adviceBox"></div>
    <div class="confetti" id="confettiContainer"></div>
    <div id="customAnimationContainer"></div>
    <div id="particleContainer"></div>

    <div class="user-content">
        <h2>Add Your Own Advice</h2>
        <form id="addAdviceForm">
            <select id="newMood" required>
                <option value="">Select a mood to add advice to</option>
            </select>
            <textarea id="newAdviceText" placeholder="Your advice, e.g., 'Order a pizza and don't feel guilty.'" required></textarea>
            <button type="submit">Save My Advice</button>
        </form>
    </div>

    <script>
        let adviceData = {
            grumpy: [
                { text: "üò† Let me rant about nothing for 2 minutes. Nod a lot.", animation: "slide-in-up" },
                { text: "üçõ Suggest a new food to try just for fun.", animation: "fade-in-scale" },
                { text: "üíß Make sure I've had water in the last 24 hours.", animation: "slide-in-up" },
                { text: "üöó ‡§ó‡•á‡§°‡§º‡•Ä ‡§Æ‡§æ‡§∞‡§®‡§æ is the solution.", animation: "pop-in" },
                { text: "üé§ Let me monologue while you play along like it's a TED talk.", animation: "fade-in-scale", customAnimation: "tedTalk" },
                { text: "üçø Text: ‚ÄúGrump acknowledged. Snacks en route.‚Äù", animation: "slide-in-up" },
                { text: "üôÉ Ask ‚ÄúCan I annoy you until you laugh?‚Äù then proceed.", animation: "bounce-in" },
                { text: "üß∏ Tell me to go change into my comfiest oversized clothes ‚Äî then hand me a cookie.", animation: "slide-in-up", customAnimation: "cookie" },
                { text: "üö∂ Suggest we walk aimlessly for 20 minutes and complain about things.", animation: "fade-in-scale" },
                { text: "üìñ Open my current book and ask about what I just read ‚Äî even if you don‚Äôt care.", animation: "slide-in-up" },
                { text: "üó£Ô∏è Let me overexplain why something tiny annoyed me today.", animation: "fade-in-scale" },
                { text: "üõí Take me to a grocery store.", animation: "pop-in", customAnimation: "groceryCart" },
                { text: "üòÇ ‚ÄúLet‚Äôs pretend to be food critics and roast the fridge contents.‚Äù", animation: "bounce-in" },
                { text: "üç™ Ask me to bake something absurdly indulgent, even if we don‚Äôt finish it.", animation: "fade-in-scale" },
                { text: "üçû Send me a snack recipe I can actually make today ‚Äî even if it‚Äôs just fancy toast.", animation: "fade-in-scale" }
            ],
            anxious: [
                { text: "üìû Call me. Just say nice things and don‚Äôt fix anything.", animation: "slide-in-up" },
                { text: "ü§ó Tight hugs.", animation: "fade-in-scale", customAnimation: "hugs" },
                { text: "üòò Forehead kisses. Minimum 2.", animation: "slide-in-up" },
                { text: "üß† Say ‚ÄúYou‚Äôve done this before. You‚Äôve got it again.‚Äù", animation: "fade-in-scale" },
                { text: "üìö Give examples of previous times I've done things well despite panic.", animation: "slide-in-up" },
                { text: "üîÅ Offer to reread an old message I sent you that made you feel loved ‚Äî aloud.", animation: "fade-in-scale" },
                { text: "üìñ Open my current book and ask about what I just read ‚Äî even if you don‚Äôt care.", animation: "slide-in-up" },
                { text: "üß© Give me one small, do-able task and help me start it.", animation: "fade-in-scale" },
                { text: "‚úçÔ∏è Offer to write down everything stressing me out so it‚Äôs not in my head.", animation: "slide-in-up" },
                { text: "‚úÖ Remind me of one tiny thing that worked out last week.", animation: "fade-in-scale", customAnimation: "tickMark" },
                { text: "üéôÔ∏è Make a ‚ÄúThings I‚Äôve Conquered‚Äù voice note list for me.", animation: "slide-in-up" },
                { text: "üòå Look at me and say, ‚ÄúStill proud of you. Even now.‚Äù", animation: "fade-in-scale" },
                { text: "üí¨ Text: ‚ÄúTell me everything you‚Äôre spiraling about. I‚Äôll score them on a Dramatic Scale.‚Äù", animation: "slide-in-up" },
                { text: "üó£Ô∏è Ask me: ‚ÄúWhat‚Äôs one thing you wish someone would say right now?‚Äù then say it.", animation: "fade-in-scale" },
                { text: "üßÉ Ask me what I‚Äôve eaten today, not in a judgmental way ‚Äî just gently.", animation: "slide-in-up" },
                { text: "üß† Ask me to list three things I can control today ‚Äî then help me feel okay about the rest.", animation: "fade-in-scale" },
                { text: "üîä Send a voice note saying nothing except kind things. 1 minute max.", animation: "slide-in-up" }
            ],
            overwhelmed: [
                { text: "üç± Deliver food. No questions. No notifications.", animation: "slide-in-up" },
                { text: "üì± Don‚Äôt call. Just send a chill voice note.", animation: "fade-in-scale" },
                { text: "üé¨ Set up a comfort movie for me (think cute romcom).", animation: "slide-in-up" },
                { text: "üìñ Give me a new book; make sure I don't feel guilty about taking a break from everything to read it", animation: "fade-in-scale" },
                { text: "üß∫ Handle one boring errand for me without telling me.", animation: "slide-in-up" },
                { text: "üóìÔ∏è Ask ‚ÄúWant to plan a ‚Äòdo-nothing‚Äô day with rules?‚Äù", animation: "fade-in-scale" },
                { text: "üì∫ Suggest I rewatch a childhood comfort show with no judgment.", animation: "slide-in-up" },
                { text: "üéß Let me have a guilt-free hour with headphones and snacks.", animation: "fade-in-scale" },
                { text: "üé≤ Offer a ‚Äúdecision dice‚Äù: you write 6 break-friendly options, I roll and obey.", animation: "slide-in-up" },
                { text: "‚úçüèΩ Write a letter I don‚Äôt have to read right away ‚Äî but can keep.", animation: "fade-in-scale" },
                { text: "üß© Suggest I do a ‚Äúno-thought zone‚Äù activity (e.g., coloring, small lego set).", animation: "slide-in-up" },
                { text: "üé≤ Offer a ‚Äúdecision dice‚Äù: you write 6 break-friendly options, I roll and do the one that comes up.", animation: "slide-in-up" }
            ],
            annoyed: [
                { text: "üòÇ Send me a meme that makes fun of you.", animation: "pop-in" },
                { text: "üçï Order food I like and say ‚ÄúI plead guilty.‚Äù", animation: "slide-in-up" },
                { text: "üò¢ Send a photo of your sad face captioned ‚Äúguilty idiot seeks forgiveness.‚Äù", animation: "bounce-in" },
                { text: "üé∂ Send a playlist called ‚ÄúOops: My Redemption Arc‚Äù ‚Äî add apology songs.", animation: "fade-in-scale" },
                { text: "üçø Say ‚ÄúI acknowledge the grudge. It is valid. Would you like snacks or revenge?‚Äù", animation: "slide-in-up" },
                { text: "üó£Ô∏è Ask ‚ÄúDo you want a rant window or a no-talking zone?‚Äù", animation: "pop-in" },
                { text: "üéß Start a shared Spotify playlist called ‚ÄúOops: My Redemption Arc‚Äù ‚Äî add apology songs.", animation: "fade-in-scale" },
                { text: "ü§î Ask: ‚ÄúIs this a ‚Äòlisten to me‚Äô or a ‚Äòleave me alone‚Äô moment?‚Äù", animation: "slide-in-up" },
                { text: "üôáüì∏ Send a photo of your sad face captioned something like ‚Äúguilty idiot seeks forgiveness.‚Äù", animation: "slide-in-up" }
            ],
            bored: [
                { text: "üçΩÔ∏è Plan a spontaneous mini-date. It can be fake fancy.", animation: "pop-in" },
                { text: "üåÄ Spin me around like a dramatic movie.", animation: "rotate-in" },
                { text: "üèÜ Make up a fake award and present it to me dramatically.", animation: "bounce-in" },
                { text: "üßÄ Build me a snack tasting plate and act like it‚Äôs a Michelin review.", animation: "fade-in-scale" },
                { text: "üõí Take me to a new grocery store and say ‚Äúpick something we‚Äôve never tried.‚Äù", animation: "slide-in-up" },
                { text: "üöó Say ‚ÄúLet‚Äôs go somewhere pointless just for the vibe.‚Äù", animation: "fade-in-scale" },
                { text: "üé≠ Let me dress up absurdly for a normal errand. Take photos.", animation: "bounce-in" },
                { text: "ü§î ‚ÄúLet‚Äôs take personality quizzes we know are fake.‚Äù", animation: "slide-in-up" },
                { text: "üç≥ Let's come up with a weird flavour combination and invent a dish out of it.", animation: "fade-in-scale" },
                { text: "üòà Tell me a story where you‚Äôre the villain. Dramatic accents encouraged.", animation: "rotate-in" },
                { text: "üìù Create a random challenge ‚Äî e.g., only talk in rhymes for 5 minutes.", animation: "pop-in" },
                { text: "üì± Send me a weird quiz or BuzzFeed list and take it together.", animation: "bounce-in" },
                { text: "üéÆ Find an online game we can both join for 15 minutes.", animation: "slide-in-up" },
                { text: "üåç GeoGuesser!", animation: "pop-in" },
                { text: "üßë‚Äçüç≥ Ask ‚ÄúIf we were on a cooking show and had 3 ingredients, what would we make?‚Äù", animation: "fade-in-scale" },
                { text: "üé® Say ‚ÄúPick a color, a snack, and a vibe. I‚Äôll create a plan.‚Äù", animation: "slide-in-up" },
                { text: "üö´ Suggest a reverse bucket list ‚Äî things we vow never to try.", animation: "fade-in-scale" },
                { text: "üé≠ Say ‚ÄúLet‚Äôs pretend to be strangers. What‚Äôs your backstory?‚Äù", animation: "bounce-in" }
            ],
            sad: [
                { text: "üé∂ Play ‚ÄúTere Jeya Hor Disda‚Äù and hold me.", animation: "slide-in-up" },
                { text: "ü™ë Sit with me. No fixing. Just stay.", animation: "fade-in-scale" },
                { text: "‚òï Bring me chai and let me sip in silence next to you.", animation: "fade-in-scale" },
                { text: "üí¨ Tell me something kind I once did and forgot about.", animation: "slide-in-up" },
                { text: "üßµ Offer to sit while I stitch or scroll and just exist with me.", animation: "slide-in-up" },
                { text: "üçû Make me toast and tell me that counts as dinner.", animation: "fade-in-scale" },
                { text: "üîä Record a 1-minute story about something dumb that made you smile today.", animation: "slide-in-up" },
                { text: "ü§ù Tell me how I‚Äôve helped you during your tough moments.", animation: "fade-in-scale" },
                { text: "üìù Invite me to co-write a ‚Äúcomplaint list‚Äù ‚Äî no solutions, just venting.", animation: "slide-in-up" },
                { text: "üåü Offer to create a ‚ÄúReasons You‚Äôre Great‚Äù list. Send one entry per hour.", animation: "fade-in-scale" },
                { text: "ü•ê Order me a pastry from somewhere new and say, ‚ÄúThis is your sad croissant.‚Äù", animation: "slide-in-up" },
                { text: "üí™ Remind me something I used to struggle with that now feels easy.", animation: "slide-in-up" }
            ],
            period: [
                { text: "üç´ Feed me something indulgent. Bonus for chocolate + carbs.", animation: "slide-in-up" },
                { text: "üôÖ‚Äç‚ôÄÔ∏è Don‚Äôt suggest solutions. Just say ‚ÄúUgh, that sucks.‚Äù", animation: "fade-in-scale" },
                { text: "üõå Blanket. Your face nearby.", animation: "slide-in-up" },
                { text: "üíÜ‚Äç‚ôÄÔ∏è Back rub.", animation: "fade-in-scale" },
                { text: "üß∏ Tell me to go change into my comfiest oversized clothes ‚Äî then hand me a cookie.", animation: "slide-in-up" },
                { text: "üì± Text me ‚ÄúName three things I want to eat right now. Go.‚Äù Then deliver one.", animation: "fade-in-scale" },
                { text: "üí™ Tell me three ways I am handling this better than I think.", animation: "slide-in-up" },
                { text: "üé¨ Watch a trash movie with me and pause every time I need a snack refill.", animation: "fade-in-scale" },
                { text: "‚ùì Genuinely ask: ‚ÄúHow can I make today suck a little less?‚Äù", animation: "slide-in-up" },
                { text: "‚ú® Text: ‚ÄúThis message is a soft pat on the head.‚Äù", animation: "fade-in-scale" },
                { text: "üíñ End the day with: ‚ÄúYou made it. You were amazing.‚Äù", animation: "slide-in-up" },
                { text: "ü´∂ Virtual head pats.", animation: "slide-in-up" },
                { text: "üóìÔ∏è Make a calendar invite titled ‚ÄúCry & Complain Time‚Äù and send it.", animation: "fade-in-scale" },
                { text: "üìö Let me pick a short activity like embroidery or reading while you hang out on call.", animation: "slide-in-up" }
            ],
            fine: [
                { text: "üò° Text: ‚ÄúIf you need to rage, I‚Äôve cleared the next 10 mins.‚Äù", animation: "pop-in" },
                { text: "ü´Ç Ask ‚ÄúShould I shut up and hug you or distract you?‚Äù", animation: "slide-in-up" },
                { text: "üéÅ Offer me five things: food, silence, blanket, hug, or meme.", animation: "fade-in-scale" },
                { text: "üó£Ô∏è Offer: ‚ÄúCan I send you a voice note of me fake-firing your boss/friends/weather?‚Äù", animation: "slide-in-up" },
                { text: "‚ùì Ask: ‚ÄúOne-word vibe check?‚Äù and respond supportively to whatever.", animation: "fade-in-scale" },
                { text: "üìù Say: ‚ÄúTell me which part of today sucked. Bullet points welcome.‚Äù", animation: "slide-in-up" },
                { text: "ü§™ Tell me the weirdest thing you thought today.", animation: "bounce-in" },
                { text: "üíñ Text: ‚ÄúThis sucks. You don‚Äôt. I‚Äôll remind you as many times as needed.‚Äù", animation: "slide-in-up" },
                { text: "üìú Offer: ‚ÄúWant a list of made-up reasons why this week should be illegal?‚Äù", animation: "fade-in-scale" },
                { text: "üí¨ DM: ‚ÄúDo you want a compliment, a conspiracy theory, or a cutesy dialogue?‚Äù", animation: "slide-in-up" },
                { text: "‚è±Ô∏è Set a 10-minute timer and say ‚ÄúComplain until it runs out. Then nap.‚Äù", animation: "fade-in-scale" }
            ],
            hyper: [
                { text: "üíÉ Dance with me! Must be loud Punjabi music.", animation: "bounce-in" },
                { text: "üìπ Record me being chaotic. I will thank you later.", animation: "pop-in" },
                { text: "üè∞ Build a pillow fort. No questions.", animation: "slide-in-up" },
                { text: "‚úçÔ∏è Ask: ‚ÄúWant to co-write a trashy romance story in our notes app?‚Äù", animation: "fade-in-scale" },
                { text: "üèÜ Suggest a fake awards show ‚Äî I name winners, you host.", animation: "bounce-in" },
                { text: "üëï Let me pick your next outfit via emoji-only instructions.", animation: "pop-in" },
                { text: "üìù Text: ‚ÄúLet‚Äôs write a 3-message story together. Your turn first.‚Äù", animation: "slide-in-up" }
            ],
            okay: [
                { text: "üíõ Tell me something you like about me today.", animation: "fade-in-scale" },
                { text: "üåà Ask me about something random I‚Äôm excited about lately.", animation: "slide-in-up" },
                { text: "‚úã Offer a high-five. No reason.", animation: "bounce-in" },
                { text: "üí¨ Ask ‚ÄúWhat‚Äôs your current very unnecessary obsession?‚Äù and let me rant.", animation: "bounce-in" },
                { text: "üìå Suggest we make a joint Pinterest board for something dumb and delightful.", animation: "slide-in-up" }
            ],
            miss: [
                { text: "üìû Call me and talk about boring things like the day.", animation: "slide-in-up" },
                { text: "üì∏ Send a photo or video just to say ‚Äúlook who misses you.‚Äù", animation: "fade-in-scale" },
                { text: "üóìÔ∏è Schedule something we can look forward to, even if virtual.", animation: "slide-in-up" },
                { text: "üß† Tell me something you remember me doing ‚Äî in weird detail.", animation: "fade-in-scale" },
                { text: "üí≠ Share one random memory we haven‚Äôt talked about in a while", animation: "slide-in-up" },
                { text: "üíñ Tell me something you‚Äôre saving to do with me.", animation: "fade-in-scale", customAnimation: "heartBeat" },
                { text: "üîä Voice note: ‚ÄúHey. This is your reminder that I like you a lot.", animation: "slide-in-up" },
                { text: "üóíÔ∏è Start writing a ‚Äúnext date‚Äù list and share your favorite idea.", animation: "fade-in-scale" },
                { text: "ü§ù Suggest a tiny daily check-in tradition (‚Äúone thing that made you smile today?‚Äù)", animation: "slide-in-up" },
                { text: "üö∂‚Äç‚ôÄÔ∏è Schedule a fake ‚Äúwalk together‚Äù ‚Äî both walk and talk via call.", animation: "fade-in-scale" },
                { text: "üì∑ Share a throwback photo of us and describe what you felt then.", animation: "slide-in-up" },
                { text: "üëï Text me your current snack, outfit, or view and ask mine.", animation: "fade-in-scale" },
                { text: "üõçÔ∏è Text me: Want to online window-shop together and judge everything?", animation: "slide-in-up" }
            ],
            insecure: [
                { text: "üí¨ Say what you love about me ‚Äî out loud.", animation: "fade-in-scale", customAnimation: "heartBeat" },
                { text: "ü™û Compliment something I‚Äôve been overthinking.", animation: "slide-in-up" },
                { text: "üßò‚Äç‚ôÄÔ∏è Reassure me of the obvious things. Gently.", animation: "fade-in-scale" },
                { text: "üåü Point out something small I did today that mattered.", animation: "slide-in-up" },
                { text: "üì∏ Send me a screenshot of something I wrote, said, or did that made you proud.", animation: "fade-in-scale" },
                { text: "üì¶ Write me a fake Amazon review: ‚Äú‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ ‚Äì Best [Tanya] I‚Äôve ever known.‚Äù", animation: "slide-in-up" },
                { text: "üîí Text: ‚ÄúTop 3 reasons I trust you. #1...‚Äù", animation: "fade-in-scale" },
                { text: "ü§≥ Send a photo I hate of myself ‚Äî and tell me what you see in it.", animation: "slide-in-up" },
                { text: "‚ú® Tell me one thing about me that hasn‚Äôt changed ‚Äî in a good way.", animation: "fade-in-scale" },
                { text: "üî• Send me photos of me you think are hot - and explain why", animation: "slide-in-up" },
                { text: "‚úçÔ∏è Write me a haiku or limerick that makes fun of my imposter syndrome - can use GPT", animation: "fade-in-scale" },
                { text: "üëÄ Notice something I‚Äôm avoiding, and offer: ‚ÄúWant to look at it together?‚Äù", animation: "slide-in-up" },
                { text: "üîä Record yourself saying nice things and remind me to play it when I need.", animation: "fade-in-scale" },
                { text: "üìû Ask: ‚ÄúWant a compliments-only call?‚Äù", animation: "slide-in-up" },
                { text: "üé• Record a video describing something small you love about me ‚Äî hair flip, laugh, typing sounds.", animation: "fade-in-scale" },
                { text: "üí¨ Share something you‚Äôre insecure about and how I help with it.", animation: "slide-in-up" },
                { text: "üßë‚Äç‚öñÔ∏è Ask me what I‚Äôm overthinking. Then refute each part like a lawyer who loves me.", animation: "fade-in-scale" },
                { text: "üëó I found this shirt/dress/jacket that screams you‚Äù (and send a link).", animation: "slide-in-up" },
                { text: "üî• Make a tiny slideshow of ‚Äúreasons you‚Äôre objectively hot‚Äù and send it unprompted.", animation: "fade-in-scale" }
            ],
            attention: [
                { text: "üß≤ Send me a ‚ÄòLet‚Äôs design your dream meal‚Äô prompt ‚Äî appetizer, drink, setting, company.", animation: "slide-in-up" },
                { text: "üç∞ Text: ‚ÄòI need help ranking these desserts from least to most iconic.‚Äô", animation: "fade-in-scale" },
                { text: "üòº Share a story where I was annoying or cute or both ‚Äî and tell me you miss that version of me today.", animation: "slide-in-up" },
                { text: "üçú Start a fake argument like ‚ÄòWhat‚Äôs the superior snack: toast or noodles?‚Äô", animation: "pop-in" },
                { text: "üòè Give me your three favorite traits about me, but lie on the first one so I have to guess.", animation: "fade-in-scale" },
                { text: "üß† You‚Äôre a tour guide giving strangers a walk-through of my brain. Go.", animation: "slide-in-up" },
                { text: "üçõ Tell me about the best thing you‚Äôve eaten this week and why I‚Äôd love/hate it.", animation: "fade-in-scale" },
                { text: "üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® What‚Äôs our fake couple restaurant called and what do we serve?", animation: "slide-in-up" },
                { text: "üìö You‚Äôre in a cozy bookstore. What section do you go to, and what do I find you reading?", animation: "fade-in-scale" },
                { text: "üõçÔ∏è Show me 3 dumb things you‚Äôd buy for me if we had no budget.", animation: "slide-in-up" },
                { text: "üé¨ Describe me as if I were a character in your favorite movie.", animation: "fade-in-scale" },
                { text: "üì± Pretend you‚Äôre writing my dating app bio. What would it say?", animation: "slide-in-up" }
            ]
        };

        const moodBackgrounds = {
            grumpy: "linear-gradient(120deg, #f6d365 0%, #fda085 100%)",
            anxious: "linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%)",
            overwhelmed: "linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%)",
            annoyed: "linear-gradient(120deg, #fbc2eb 0%, #a6c1ee 100%)",
            bored: "linear-gradient(120deg, #fddb92 0%, #d1fdff 100%)",
            sad: "linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%)",
            period: "linear-gradient(120deg, #fccb90 0%, #d57eeb 100%)",
            fine: "linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%)",
            hyper: "linear-gradient(120deg, #f5f7fa 0%, #c3cfe2 100%)",
            okay: "linear-gradient(120deg, #c1dfc4 0%, #deecdd 100%)",
            miss: "linear-gradient(120deg, #fdfcfb 0%, #e2d1c3 100%)",
            insecure: "linear-gradient(120deg, #fa709a 0%, #fee140 100%)",
            attention: "linear-gradient(120deg, #f6f0c4 0%, #f8d9e0 100%)"
        };

        let lastAdvice = null;
        const mainButton = document.getElementById("mainButton");

        const customAnimations = {
            tedTalk: () => {
                return `
                    <div class="ted-logo-container">
                        <div class="ted-logo-box">T<span style="font-size: 0.6em; vertical-align: super;">E</span>D</div>
                        <div class="ted-logo-text">Ideas Worth Spreading</div>
                    </div>
                `;
            },
            cookie: () => `<span class="cookie-animation">üç™</span>`,
            hugs: () => `<span class="hugs-animation">ü§ó</span>`,
            heartBeat: () => {
                return `
                    <svg class="heart-animation" viewBox="0 0 32 29.6"><path fill="#FF69B4" d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/></svg>
                `;
            },
            tickMark: () => `<span class="tick-mark-animation">‚úÖ</span>`
        };

        const particleContainer = document.getElementById("particleContainer");
        const generateParticles = (count, className) => {
            clearParticles();
            for (let i = 0; i < count; i++) {
                const p = document.createElement("div");
                p.className = className;
                p.style.left = Math.random() * 100 + 'vw';
                p.style.animationDuration = (4 + Math.random() * 6) + 's';
                p.style.animationDelay = (Math.random() * 4) + 's';
                p.style.transform = `scale(${(Math.random() * 0.5) + 0.5})`;
                particleContainer.appendChild(p);
            }
        };

        const generatePairedParticles = (count) => {
            clearParticles();
            const particles = [
                `<svg class="heart-particle-svg" viewBox="0 0 32 29.6"><path fill="#ff69b4" d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/></svg>`,
                `<svg class="star-particle-svg" viewBox="0 0 51 48"><path fill="gold" d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z"/></svg>`
            ];
            for (let i = 0; i < count; i++) {
                const p = document.createElement("div");
                p.className = 'heart-star-particle-wrapper';
                p.innerHTML = particles[Math.floor(Math.random() * particles.length)];
                p.style.left = Math.random() * 100 + 'vw';
                p.style.animationDuration = (4 + Math.random() * 6) + 's';
                p.style.animationDelay = (Math.random() * 4) + 's';
                p.style.transform = `scale(${(Math.random() * 0.5) + 0.5})`;
                particleContainer.appendChild(p);
            }
        };

        const clearParticles = () => {
            particleContainer.innerHTML = '';
        };

        function showAdvice() {
            const mood = document.getElementById("mood").value;
            const adviceBox = document.getElementById("adviceBox");
            const customAnimContainer = document.getElementById("customAnimationContainer");
            
            clearParticles();
            customAnimContainer.innerHTML = "";
            
            if (!mood || !adviceData[mood]) {
                adviceBox.innerHTML = "<span class='icon'>‚ö†Ô∏è</span> Please select a mood first.";
                adviceBox.className = "advice-box fade-in-scale";
                mainButton.textContent = "‚ú® Get Advice";
                return;
            }

            if (['anxious', 'overwhelmed'].includes(mood)) {
                generateParticles(30, 'bubble');
            } else if (['sad'].includes(mood)) {
                generateParticles(50, 'petal');
            } else if (['okay'].includes(mood)) {
                 generateParticles(50, 'petal');
            } else if (['miss', 'insecure'].includes(mood)) {
                generatePairedParticles(40);
            } else if (['grumpy', 'annoyed'].includes(mood)) {
                 generateParticles(30, 'fume-particle');
            } else if (['bored'].includes(mood)) {
                 generateParticles(20, 'blob-particle');
            } else if (['period'].includes(mood)) {
                 generateParticles(30, 'period-particle');
            } else if (['fine'].includes(mood)) {
                 generateParticles(50, 'fine-particle');
            } else if (['hyper', 'attention'].includes(mood)) {
                 generateParticles(40, 'hyper-particle');
            }

            const options = adviceData[mood];
            let newAdviceObj;
            do {
                newAdviceObj = options[Math.floor(Math.random() * options.length)];
            } while (newAdviceObj === lastAdvice && options.length > 1);
            lastAdvice = newAdviceObj;

            document.body.style.background = moodBackgrounds[mood] || document.body.style.background;

            adviceBox.className = "advice-box";
            
            if (newAdviceObj.customAnimation && customAnimations[newAdviceObj.customAnimation]) {
                const customIconHTML = customAnimations[newAdviceObj.customAnimation]();
                adviceBox.innerHTML = customIconHTML + `<br>` + newAdviceObj.text;
            } else {
                adviceBox.innerHTML = `<span class='icon'>${newAdviceObj.text.slice(0, 2)}</span>${newAdviceObj.text.slice(2)}`;
            }

            setTimeout(() => {
                adviceBox.classList.add(newAdviceObj.animation);
                mainButton.textContent = "Give me another idea";
            }, 50);

        }

        const addAdviceForm = document.getElementById('addAdviceForm');
        const moodDropdown = document.getElementById('mood');
        const newMoodFormDropdown = document.getElementById('newMood');

        function loadUserAdvice() {
            const userAdvice = JSON.parse(localStorage.getItem('userAdvice')) || {};
            
            newMoodFormDropdown.innerHTML = '<option value="">Select a mood to add advice to</option>';
            const existingMoods = Object.keys(adviceData);
            existingMoods.forEach(mood => {
                const option = document.createElement('option');
                option.value = mood;
                option.textContent = mood.charAt(0).toUpperCase() + mood.slice(1);
                newMoodFormDropdown.appendChild(option);
            });

            for (const mood in userAdvice) {
                if (adviceData[mood]) {
                    adviceData[mood] = [...adviceData[mood], ...userAdvice[mood]];
                }
            }
        }

        addAdviceForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const newMood = newMoodFormDropdown.value;
            const newAdviceText = document.getElementById('newAdviceText').value.trim();

            if (!newMood || !newAdviceText) return;

            const userAdvice = JSON.parse(localStorage.getItem('userAdvice')) || {};
            if (!userAdvice[newMood]) {
                userAdvice[newMood] = [];
            }
            userAdvice[newMood].push({ text: newAdviceText, animation: "slide-in-up" });

            localStorage.setItem('userAdvice', JSON.stringify(userAdvice));

            alert('Your advice has been saved!');
            document.getElementById('newAdviceText').value = '';
            newMoodFormDropdown.value = '';

            loadUserAdvice();
        });

        loadUserAdvice();
    </script>
</body>
</html>
